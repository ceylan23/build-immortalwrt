# ==========================================
# 1. 目标机型设置 (Target)
# ==========================================
# 玩客云 S805 专用标识
CONFIG_TARGET_meson8b=y
CONFIG_TARGET_meson8b_meson8b=y
CONFIG_TARGET_meson8b_meson8b_DEVICE_thunder-onecloud=y

# 固件生成设置 (生成 .img.gz 以便刷写 U 盘)
CONFIG_TARGET_ROOTFS_TARGZ=y
CONFIG_TARGET_ROOTFS_SQUASHFS=y
CONFIG_USES_EXT4=y
CONFIG_USES_SQUASHFS=y

# ==========================================
# 2. 你的核心插件 (ECH Workers)
# ==========================================
# 必须加上这一行，否则你之前上传的插件不会被编译进去！
CONFIG_PACKAGE_luci-app-ech=y

# ==========================================
# 3. USB 网络共享 (手机/移动WiFi 做 WAN 口)
# ==========================================
# 基础 USB 协议栈
CONFIG_PACKAGE_kmod-usb-core=y
CONFIG_PACKAGE_kmod-usb2=y
CONFIG_PACKAGE_kmod-usb-net=y
# 安卓手机 / 4G 棒 (RNDIS, CDC-NCM)
CONFIG_PACKAGE_kmod-usb-net-rndis=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ether=y
CONFIG_PACKAGE_kmod-usb-net-cdc-ncm=y
CONFIG_PACKAGE_kmod-usb-net-huawei-cdc-ncm=y
# 苹果手机 (iOS Tethering)
CONFIG_PACKAGE_kmod-usb-net-ipheth=y
CONFIG_PACKAGE_usbmuxd=y
CONFIG_PACKAGE_libimobiledevice=y
CONFIG_PACKAGE_usbutils=y

# ==========================================
# 4. 网络性能优化 (S805 救星)
# ==========================================
# TurboACC 网络加速 (Flow Offloading)
CONFIG_PACKAGE_luci-app-turboacc=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_OFFLOADING=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_BBR_CCA=y
CONFIG_PACKAGE_luci-app-turboacc_INCLUDE_SHORTCUT_FE=y
# 启用 BBR 拥塞控制
CONFIG_PACKAGE_kmod-tcp-bbr=y

# ==========================================
# 5. 系统工具与 Python (为了你的脚本)
# ==========================================
# 基础工具
CONFIG_PACKAGE_curl=y
CONFIG_PACKAGE_wget-ssl=y
CONFIG_PACKAGE_htop=y
CONFIG_PACKAGE_nano=y
CONFIG_PACKAGE_unzip=y
CONFIG_PACKAGE_bash=y
CONFIG_PACKAGE_openssh-sftp-server=y
# Python3 环境 (你的量化脚本需要)
CONFIG_PACKAGE_python3=y
CONFIG_PACKAGE_python3-pip=y
# 如果你的脚本需要 pandas/numpy，S805 编译很难，建议用 pip 在机器上装

# ==========================================
# 6. 文件系统支持 (挂载 U 盘/硬盘)
# ==========================================
CONFIG_PACKAGE_kmod-fs-ext4=y
CONFIG_PACKAGE_kmod-fs-vfat=y
CONFIG_PACKAGE_kmod-fs-exfat=y
CONFIG_PACKAGE_kmod-fs-ntfs3=y
CONFIG_PACKAGE_automount=y

# ==========================================
# 7. LuCI 界面与主题
# ==========================================
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-ssl=y
CONFIG_PACKAGE_luci-mod-admin-full=y
# 语言包
CONFIG_PACKAGE_luci-i18n-base-zh-cn=y
CONFIG_PACKAGE_luci-i18n-firewall-zh-cn=y
CONFIG_PACKAGE_luci-i18n-turboacc-zh-cn=y
# 主题 (Argon 是目前最好看的)
CONFIG_PACKAGE_luci-theme-argon=y

# ==========================================
# 8. 其他常用插件 (按需开启)
# ==========================================
# UPnP (玩游戏自动映射端口)
CONFIG_PACKAGE_luci-app-upnp=y
CONFIG_PACKAGE_luci-i18n-upnp-zh-cn=y
# 定时重启
CONFIG_PACKAGE_luci-app-autoreboot=y
CONFIG_PACKAGE_luci-i18n-autoreboot-zh-cn=y
# 文件管理
CONFIG_PACKAGE_luci-app-filetransfer=y
CONFIG_PACKAGE_luci-i18n-filetransfer-zh-cn=y

# ==========================================
# 9. 移除不需要的组件 (减小体积)
# ==========================================
# 移除 Docker (S805 跑 Docker 比较吃力，为了稳定性建议不装，用 Python 直接跑脚本)
# CONFIG_PACKAGE_docker is not set
# CONFIG_PACKAGE_luci-app-dockerman is not set
